goroam.dhtml.append_to_body=function(A){if(A){var B=goroam.dhtml.get_body();if(B){B.appendChild(A)}}};goroam.dhtml.cancel_bubble=function(A){A=goroam.dhtml.get_event(A);if(A&&A.cancelBubble){A.cancelBubble=true}if(A&&A.stopPropagation){A.stopPropagation()}if(A&&A.preventDefault){A.preventDefault()}};goroam.dhtml.edit_class_name=function(B,C,A,D){B=(B||this);C=(C||"");A=(A||"");if(!D){if(C!=""){C=goroam.string.add_prefix_to_all_words(C,"<%= Constant::get(:css_prefix) %>")}if(A!=""){A=goroam.string.add_prefix_to_all_words(A,"<%= Constant::get(:css_prefix) %>")}}B.className=B.className.add_value(C,A,false,false)};goroam.dhtml.highlight=function(){goroam.dhtml.edit_class_name(this,"highlight")};goroam.dhtml.unhighlight=function(){goroam.dhtml.edit_class_name(this,"","highlight")};goroam.dhtml.get_body=function(){var A;A=document.body;if(!A){A=document.getElementsByTagName("body")[0]}return A};goroam.dhtml.get_element_data=function(A){var B={data_type:0,value:null,title:null};if(A){switch(A.tagName.toLowerCase()){case"a":B.data_type=3;B.value=A.href;B.title=goroam.dhtml.get_inner_text(A);break;case"img":B.data_type=4;B.value=A.src;B.title=A.getAttribute("alt");if(!B.title){B.title=A.getAttribute("title")}break;case"input":switch(A.getAttribute("type").toLowerCase()){case"image":B.data_type=4;B.value=A.src;B.title=A.getAttribute("title");break;default:B.data_type=2;B.value=A.value;B.title=A.getAttribute("title")}break;case"b":case"body":case"div":case"em":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"h7":case"i":case"li":case"span":case"strong":case"td":case"u":B.data_type=2;B.value=goroam.dhtml.get_inner_html(A);B.title=A.getAttribute("title");break;case"textarea":B.data_type=2;B.value=A.value;B.title=A.getAttribute("title");break;default:B.data_type=1;B.value=goroam.dhtml.outer_html(A);B.title=A.getAttribute("title")}}return B};goroam.dhtml.get_elements_in_class=function(B,A,F){var E=[];B=(B||"");if(B!=""){var J=(goroam.browser.host_info().name==goroam.enm.browsers.ie?"className":"class");var H=goroam.dhtml.get_elements_with_attribute(J,A);var G=[];if(H.length>0){if(!F){B=goroam.string.add_prefix_to_all_words(B,"<%= Constant::get(:css_prefix) %>")}G=B.compress_whitespace().split(" ");for(var D=0;D<G.length;D++){G[D]=RegExp("\\b"+G[D]+"\\b","i")}}for(var D=0;D<H.length;D++){var I=(H[D].getAttribute(J)||"");for(var C=0;C<G.length;C++){if(I.search(G[C])>=0){E.push(H[D]);break}}}}return E};goroam.dhtml.get_elements_with_attribute=function(A,B){if(!B){B=document.getElementsByTagName("body")[0]}var C=[];A=A.toLowerCase();var E=B.getElementsByTagName("*");for(var D=0;D<E.length;D++){var F=(E[D].getAttribute(A)||"");if((F!=null)&&(F!="")){C.push(E[D])}}return C};goroam.dhtml.get_inner_html=function(B){var A="";if(B){var C=B.cloneNode(true);var D=goroam.dhtml.get_elements_in_class("map_prompt",C);for(var E=0;E<D.length;E++){D[E].parentNode.removeChild(D[E])}A=C.innerHTML}return A};goroam.dhtml.get_inner_text=function(B){var A="";if(B){if(B.innerText){A=B.innerText}else{if(B.textContent){A=B.textContent}}}return A};goroam.dhtml.get_event=function(A){var B=A?A:window.event;return B};goroam.dhtml.get_select_value=function(A){return A.options[A.selectedIndex].value};goroam.dhtml.set_mouseover=function(){var A=(this.__mouseover_class_name||"mouseover");var B=(this.__mouseout_class_name||"");goroam.dhtml.edit_class_name(this,A,B);this.__mouseover=true};goroam.dhtml.unset_mouseover=function(){var A=(this.__mouseover_class_name||"mouseover");var B=(this.__mouseout_class_name||"");goroam.dhtml.edit_class_name(this,B,A);this.__mouseover=false};goroam.dhtml.outer_html=function(C){var B="";if(C){if(C.outerHTML){B=C.outerHTML}else{var A=document.getElementById("gr_outer_html");if(!A){A=document.createElement("gr_outer_html");A.style.display="none";A.appendChild(C.cloneNode(true));B=A.innerHTML;A.innerHTML=""}}}return B}