goroam.http.request=function(){var C=this;var E;var D=A();var B=false;this.finished=false;this.timeout=60;this.timeout_id=undefined;this.return_func=undefined;this.get=function(F){return E[F]};this.set=function(F,G){return E[F]=G};this.abort=function(){if(D){return E.abort()}};this.get_all_response_headers=function(){if(D){return E.getAllResponseHeaders()}else{return""}};this.get_response_header=function(F){if(D){return E.getResponseHeader(F)}else{return""}};this.open=function(J,I,G,F,H){if(D){B=G;return E.open(J,I,G,F,H)}};this.send=function(H){if(D){var F=(H||"");if(B){C.finished=false;if((C.return_func!=undefined)||(C.timeout>0)){E.onreadystatechange=function(){return goroam.http.check(C,false)}}if(C.timeout>0){var G=goroam.http.check_later(C,true);C.timeout_id=window.setTimeout(G,1000*C.timeout);E.send(H);G=null}else{E.send(H)}}else{E.send(H)}}else{if(C.return_func!=undefined){C.return_func(false,"")}}};this.set_request_header=function(F,G){if(D){return E.setRequestHeader(F,G)}};function A(F){var H=false;if(window.XMLHttpRequest){try{E=new XMLHttpRequest();H=true}catch(G){}}else{if(window.ActiveXObject){try{E=new ActiveXObject("Msxml2.XMLHTTP");H=true}catch(G){try{E=new ActiveXObject("Microsoft.XMLHTTP");H=true}catch(G){}}}}return H}};goroam.http.check=function(B,A){var C=false;var D="";if(B!=undefined){if(!B.finished){if(B.get("readyState")==4){if(B.get("status")==200){C=true}}if(A||C){B.finished=true;if(C){D=B.get("responseText")}if(B.return_func!=undefined){B.return_func(C,D)}if(B.timeout_id!=undefined){window.clearTimeout(B.timeout_id)}if(!C){B.abort()}}}}};goroam.http.check_later=function(B,A){return(function(){goroam.http.check(B,A)})}